
from SpiffWorkflow.bpmn.workflow import BpmnWorkflow
from SpiffWorkflow.spiff.parser.process import SpiffBpmnParser
from SpiffWorkflow.task import TaskState

from SpiffWorkflow.dmn.serializer.task_spec_converters import BusinessRuleTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import BoundaryEventConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import CallActivityTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import EndEventConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import IntermediateCatchEventConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import IntermediateThrowEventConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import ManualTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import NoneTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import ReceiveTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import ScriptTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import SendTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import ServiceTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import StartEventConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import SubWorkflowTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import TransactionSubprocessConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import UserTaskConverter

from SpiffWorkflow.bpmn.serializer.workflow import BpmnWorkflowSerializer

SERIALIZER_VERSION = "1.0-supreme-spoon"
wf_spec_converter = BpmnWorkflowSerializer.configure_workflow_spec_converter(
    [
        BoundaryEventConverter,
        BusinessRuleTaskConverter,
        CallActivityTaskConverter,
        EndEventConverter,
        IntermediateCatchEventConverter,
        IntermediateThrowEventConverter,
        ManualTaskConverter,
        NoneTaskConverter,
        ReceiveTaskConverter,
        ScriptTaskConverter,
        SendTaskConverter,
        ServiceTaskConverter,
        StartEventConverter,
        SubWorkflowTaskConverter,
        TransactionSubprocessConverter,
        UserTaskConverter,
    ]
)
serializer = BpmnWorkflowSerializer(wf_spec_converter, version=SERIALIZER_VERSION)
serialized = {'data': {}, 'last_task': None, 'success': True, 'tasks': {'afc78dba-0368-4128-bfb9-2d3208861cb6': {'id': 'afc78dba-0368-4128-bfb9-2d3208861cb6', 'parent': None, 'children': ['4f48a72a-4aeb-47d5-b544-63250f29d13e'], 'last_state_change': 1667418155.732629, 'state': 32, 'task_spec': 'Root', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '4f48a72a-4aeb-47d5-b544-63250f29d13e': {'id': '4f48a72a-4aeb-47d5-b544-63250f29d13e', 'parent': 'afc78dba-0368-4128-bfb9-2d3208861cb6', 'children': ['9432424d-e241-4c00-b499-822ce98cda6f'], 'last_state_change': 1667418155.7330387, 'state': 16, 'task_spec': 'Start', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '9432424d-e241-4c00-b499-822ce98cda6f': {'id': '9432424d-e241-4c00-b499-822ce98cda6f', 'parent': '4f48a72a-4aeb-47d5-b544-63250f29d13e', 'children': ['ba5b1f89-ac79-4620-84d8-ab055a459811'], 'last_state_change': 1667418155.7326574, 'state': 4, 'task_spec': 'Event_056euq0', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'ba5b1f89-ac79-4620-84d8-ab055a459811': {'id': 'ba5b1f89-ac79-4620-84d8-ab055a459811', 'parent': '9432424d-e241-4c00-b499-822ce98cda6f', 'children': ['fab59b06-b2d9-4bb0-8556-af9a12ab5c29', '63a6929d-0426-48f6-a47a-9082078fef5c', 'e1a3f05a-2c26-4f86-a8b2-121d6c2ac121'], 'last_state_change': 1667418155.7326703, 'state': 4, 'task_spec': 'Gateway_017jnp6', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'fab59b06-b2d9-4bb0-8556-af9a12ab5c29': {'id': 'fab59b06-b2d9-4bb0-8556-af9a12ab5c29', 'parent': 'ba5b1f89-ac79-4620-84d8-ab055a459811', 'children': ['06886d24-0443-46f7-87e2-53dbf901f027'], 'last_state_change': 1667418155.7326846, 'state': 4, 'task_spec': 'Activity_1ewv0kb', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '06886d24-0443-46f7-87e2-53dbf901f027': {'id': '06886d24-0443-46f7-87e2-53dbf901f027', 'parent': 'fab59b06-b2d9-4bb0-8556-af9a12ab5c29', 'children': ['213959f3-8bd3-406a-a0ca-5efea5e3ce9f'], 'last_state_change': 1667418155.732711, 'state': 4, 'task_spec': 'Gateway_0chrwmq', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '213959f3-8bd3-406a-a0ca-5efea5e3ce9f': {'id': '213959f3-8bd3-406a-a0ca-5efea5e3ce9f', 'parent': '06886d24-0443-46f7-87e2-53dbf901f027', 'children': ['58332d4f-ee49-40d0-8141-a50f1bd1aec0'], 'last_state_change': 1667418155.732725, 'state': 4, 'task_spec': 'Activity_0kapn49', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '58332d4f-ee49-40d0-8141-a50f1bd1aec0': {'id': '58332d4f-ee49-40d0-8141-a50f1bd1aec0', 'parent': '213959f3-8bd3-406a-a0ca-5efea5e3ce9f', 'children': ['ffdfa778-90b8-4e58-8e35-f8c614be45f9'], 'last_state_change': 1667418155.7327373, 'state': 4, 'task_spec': 'Event_1kj6hcj', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'ffdfa778-90b8-4e58-8e35-f8c614be45f9': {'id': 'ffdfa778-90b8-4e58-8e35-f8c614be45f9', 'parent': '58332d4f-ee49-40d0-8141-a50f1bd1aec0', 'children': ['a9ba2250-2b40-45db-9313-c38bd947146a'], 'last_state_change': 1667418155.7327514, 'state': 4, 'task_spec': 'Proccess_3qizfj5.EndJoin', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'a9ba2250-2b40-45db-9313-c38bd947146a': {'id': 'a9ba2250-2b40-45db-9313-c38bd947146a', 'parent': 'ffdfa778-90b8-4e58-8e35-f8c614be45f9', 'children': [], 'last_state_change': 1667418155.732765, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '63a6929d-0426-48f6-a47a-9082078fef5c': {'id': '63a6929d-0426-48f6-a47a-9082078fef5c', 'parent': 'ba5b1f89-ac79-4620-84d8-ab055a459811', 'children': ['c844d5ed-8a12-4cd9-9b3a-08c6a7ca4301'], 'last_state_change': 1667418155.7326918, 'state': 4, 'task_spec': 'Activity_115woll', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'c844d5ed-8a12-4cd9-9b3a-08c6a7ca4301': {'id': 'c844d5ed-8a12-4cd9-9b3a-08c6a7ca4301', 'parent': '63a6929d-0426-48f6-a47a-9082078fef5c', 'children': ['b6f6ae21-9f47-47c7-a5ec-48e31cdc7619'], 'last_state_change': 1667418155.7327816, 'state': 4, 'task_spec': 'Gateway_0chrwmq', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'b6f6ae21-9f47-47c7-a5ec-48e31cdc7619': {'id': 'b6f6ae21-9f47-47c7-a5ec-48e31cdc7619', 'parent': 'c844d5ed-8a12-4cd9-9b3a-08c6a7ca4301', 'children': ['b913f287-9c96-452b-b74a-f8afcba0732a'], 'last_state_change': 1667418155.7327936, 'state': 4, 'task_spec': 'Activity_0kapn49', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'b913f287-9c96-452b-b74a-f8afcba0732a': {'id': 'b913f287-9c96-452b-b74a-f8afcba0732a', 'parent': 'b6f6ae21-9f47-47c7-a5ec-48e31cdc7619', 'children': ['579877cc-6b70-448a-8879-aa782bac8220'], 'last_state_change': 1667418155.7328055, 'state': 4, 'task_spec': 'Event_1kj6hcj', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '579877cc-6b70-448a-8879-aa782bac8220': {'id': '579877cc-6b70-448a-8879-aa782bac8220', 'parent': 'b913f287-9c96-452b-b74a-f8afcba0732a', 'children': ['fef48574-bdd0-46fe-a8fd-b7febf079ab9'], 'last_state_change': 1667418155.7328198, 'state': 4, 'task_spec': 'Proccess_3qizfj5.EndJoin', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'fef48574-bdd0-46fe-a8fd-b7febf079ab9': {'id': 'fef48574-bdd0-46fe-a8fd-b7febf079ab9', 'parent': '579877cc-6b70-448a-8879-aa782bac8220', 'children': [], 'last_state_change': 1667418155.7328324, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'e1a3f05a-2c26-4f86-a8b2-121d6c2ac121': {'id': 'e1a3f05a-2c26-4f86-a8b2-121d6c2ac121', 'parent': 'ba5b1f89-ac79-4620-84d8-ab055a459811', 'children': ['6b8a6214-861d-46f7-ba18-f0372435b59b'], 'last_state_change': 1667418155.7326982, 'state': 4, 'task_spec': 'Activity_1g1cdox', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '6b8a6214-861d-46f7-ba18-f0372435b59b': {'id': '6b8a6214-861d-46f7-ba18-f0372435b59b', 'parent': 'e1a3f05a-2c26-4f86-a8b2-121d6c2ac121', 'children': ['bfd400b0-380c-4079-b171-98b52b90594e'], 'last_state_change': 1667418155.7328503, 'state': 4, 'task_spec': 'Gateway_0chrwmq', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'bfd400b0-380c-4079-b171-98b52b90594e': {'id': 'bfd400b0-380c-4079-b171-98b52b90594e', 'parent': '6b8a6214-861d-46f7-ba18-f0372435b59b', 'children': ['ff8f9da9-382d-4184-bb26-ff7954f0e8e9'], 'last_state_change': 1667418155.7328627, 'state': 4, 'task_spec': 'Activity_0kapn49', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'ff8f9da9-382d-4184-bb26-ff7954f0e8e9': {'id': 'ff8f9da9-382d-4184-bb26-ff7954f0e8e9', 'parent': 'bfd400b0-380c-4079-b171-98b52b90594e', 'children': ['b6d1c912-90dd-4bcb-8ceb-f023d134d5b4'], 'last_state_change': 1667418155.7328744, 'state': 4, 'task_spec': 'Event_1kj6hcj', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'b6d1c912-90dd-4bcb-8ceb-f023d134d5b4': {'id': 'b6d1c912-90dd-4bcb-8ceb-f023d134d5b4', 'parent': 'ff8f9da9-382d-4184-bb26-ff7954f0e8e9', 'children': ['618002ea-f81e-407f-b71b-7c3a966778fa'], 'last_state_change': 1667418155.7328875, 'state': 4, 'task_spec': 'Proccess_3qizfj5.EndJoin', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '618002ea-f81e-407f-b71b-7c3a966778fa': {'id': '618002ea-f81e-407f-b71b-7c3a966778fa', 'parent': 'b6d1c912-90dd-4bcb-8ceb-f023d134d5b4', 'children': [], 'last_state_change': 1667418155.7329, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}}, 'root': 'afc78dba-0368-4128-bfb9-2d3208861cb6', 'spec': {'name': 'Proccess_3qizfj5', 'description': 'Proccess_3qizfj5', 'file': 'examples/pg.bpmn', 'task_specs': {'Start': {'id': 'Proccess_3qizfj5_1', 'name': 'Start', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': ['Event_056euq0'], 'typename': 'StartTask'}, 'Proccess_3qizfj5.EndJoin': {'id': 'Proccess_3qizfj5_2', 'name': 'Proccess_3qizfj5.EndJoin', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_1kj6hcj'], 'outputs': ['End'], 'typename': '_EndJoin'}, 'End': {'id': 'Proccess_3qizfj5_3', 'name': 'End', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Proccess_3qizfj5.EndJoin'], 'outputs': [], 'typename': 'Simple'}, 'Event_056euq0': {'id': 'Proccess_3qizfj5_4', 'name': 'Event_056euq0', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Start'], 'outputs': ['Gateway_017jnp6'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 142.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Gateway_017jnp6': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1cl1p98': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'StartEvent', 'extensions': {}}, 'Gateway_017jnp6': {'id': 'Proccess_3qizfj5_5', 'name': 'Gateway_017jnp6', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_056euq0'], 'outputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 205.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_1ewv0kb': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Activity_115woll': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Activity_1g1cdox': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1pitxjc': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Flow_0h2b3iu': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Flow_02o1fhb': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_1ewv0kb': {'id': 'Proccess_3qizfj5_6', 'name': 'Activity_1ewv0kb', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 30.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0iqfly5': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=4', 'typename': 'ScriptTask', 'extensions': {}}, 'Gateway_0chrwmq': {'id': 'Proccess_3qizfj5_7', 'name': 'Gateway_0chrwmq', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'outputs': ['Activity_0kapn49'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 445.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_0kapn49': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_19o9wjn': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_0kapn49': {'id': 'Proccess_3qizfj5_8', 'name': 'Activity_0kapn49', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_0chrwmq'], 'outputs': ['Event_1kj6hcj'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 590.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Event_1kj6hcj': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0xt37g5': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'result = var1 + 3', 'typename': 'ScriptTask', 'extensions': {}}, 'Event_1kj6hcj': {'id': 'Proccess_3qizfj5_9', 'name': 'Event_1kj6hcj', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_0kapn49'], 'outputs': ['Proccess_3qizfj5.EndJoin'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 792.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Proccess_3qizfj5.EndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Event_1kj6hcj.ToEndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'EndEvent', 'extensions': {}}, 'Activity_115woll': {'id': 'Proccess_3qizfj5_10', 'name': 'Activity_115woll', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1iiolp4': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=6', 'typename': 'ScriptTask', 'extensions': {}}, 'Activity_1g1cdox': {'id': 'Proccess_3qizfj5_11', 'name': 'Activity_1g1cdox', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 250.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_110tzrd': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=7', 'typename': 'ScriptTask', 'extensions': {}}, 'Root': {'id': 'Proccess_3qizfj5_12', 'name': 'Root', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': [], 'typename': 'Simple'}}, 'data_inputs': [], 'data_outputs': [], 'data_objects': {}, 'correlation_keys': {}, 'typename': 'BpmnProcessSpec'}, 'subprocess_specs': {'Proccess_3qizfj5': {'name': 'Proccess_3qizfj5', 'description': 'Proccess_3qizfj5', 'file': 'examples/pg.bpmn', 'task_specs': {'Start': {'id': 'Proccess_3qizfj5_1', 'name': 'Start', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': ['Event_056euq0'], 'typename': 'StartTask'}, 'Proccess_3qizfj5.EndJoin': {'id': 'Proccess_3qizfj5_2', 'name': 'Proccess_3qizfj5.EndJoin', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_1kj6hcj'], 'outputs': ['End'], 'typename': '_EndJoin'}, 'End': {'id': 'Proccess_3qizfj5_3', 'name': 'End', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Proccess_3qizfj5.EndJoin'], 'outputs': [], 'typename': 'Simple'}, 'Event_056euq0': {'id': 'Proccess_3qizfj5_4', 'name': 'Event_056euq0', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Start'], 'outputs': ['Gateway_017jnp6'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 142.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Gateway_017jnp6': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1cl1p98': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'StartEvent', 'extensions': {}}, 'Gateway_017jnp6': {'id': 'Proccess_3qizfj5_5', 'name': 'Gateway_017jnp6', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_056euq0'], 'outputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 205.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_1ewv0kb': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Activity_115woll': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Activity_1g1cdox': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1pitxjc': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Flow_0h2b3iu': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Flow_02o1fhb': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_1ewv0kb': {'id': 'Proccess_3qizfj5_6', 'name': 'Activity_1ewv0kb', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 30.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0iqfly5': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=4', 'typename': 'ScriptTask', 'extensions': {}}, 'Gateway_0chrwmq': {'id': 'Proccess_3qizfj5_7', 'name': 'Gateway_0chrwmq', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'outputs': ['Activity_0kapn49'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 445.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_0kapn49': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_19o9wjn': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_0kapn49': {'id': 'Proccess_3qizfj5_8', 'name': 'Activity_0kapn49', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_0chrwmq'], 'outputs': ['Event_1kj6hcj'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 590.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Event_1kj6hcj': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0xt37g5': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'result = var1 + 3', 'typename': 'ScriptTask', 'extensions': {}}, 'Event_1kj6hcj': {'id': 'Proccess_3qizfj5_9', 'name': 'Event_1kj6hcj', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_0kapn49'], 'outputs': ['Proccess_3qizfj5.EndJoin'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 792.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Proccess_3qizfj5.EndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Event_1kj6hcj.ToEndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'EndEvent', 'extensions': {}}, 'Activity_115woll': {'id': 'Proccess_3qizfj5_10', 'name': 'Activity_115woll', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1iiolp4': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=6', 'typename': 'ScriptTask', 'extensions': {}}, 'Activity_1g1cdox': {'id': 'Proccess_3qizfj5_11', 'name': 'Activity_1g1cdox', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 250.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_110tzrd': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=7', 'typename': 'ScriptTask', 'extensions': {}}, 'Root': {'id': 'Proccess_3qizfj5_12', 'name': 'Root', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': [], 'typename': 'Simple'}}, 'data_inputs': [], 'data_outputs': [], 'data_objects': {}, 'correlation_keys': {}, 'typename': 'BpmnProcessSpec'}}, 'subprocesses': {}, 'bpmn_messages': []}

wf = serializer.workflow_from_dict(serialized)
wf.do_engine_steps()
print(wf.data)
