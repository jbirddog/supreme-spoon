# GENERATED by Supreme Spoon

from SpiffWorkflow.bpmn.serializer.workflow import BpmnWorkflowSerializer


class EmptyWorkflow:
    def __init__(self, scripting_additions=None):
        self.scripting_additions = scripting_additions

    def get_serializer(self):
        spec_converters = []
        spec_converter = BpmnWorkflowSerializer.configure_workflow_spec_converter(spec_converters)
        serializer = BpmnWorkflowSerializer(spec_converter, version="1.0-supreme-spoon")
        return serializer

    # TODO: restore
    def get_workflow(self):
        workflow = self.get_serializer().workflow_from_dict(self.SERIALIZED_WORKFLOW)

        if self.scripting_additions is not None:
            workflow.script_engine = PythonScriptEngine(scripting_additions=self.scripting_additions)

        return workflow

    def run(self):
        workflow = self.get_workflow()
        workflow.do_engine_steps()
        while not workflow.is_completed():
            ready_tasks = workflow.get_ready_user_tasks()
            for task in ready_tasks:
                if task.task_spec.name in self.TASK_HANDLERS:
                    self.TASK_HANDLERS[task.task_spec.name](task)
                task.complete()
            workflow.refresh_waiting_tasks()
            workflow.do_engine_steps()

        return workflow.data

    SERIALIZED_WORKFLOW = {'data': {}, 'last_task': None, 'success': True, 'tasks': {'adbbedb0-5775-4b2c-b7cc-b0647ee936cd': {'id': 'adbbedb0-5775-4b2c-b7cc-b0647ee936cd', 'parent': None, 'children': ['0c37c440-35b8-49fc-b757-899d9c092d8f'], 'last_state_change': 1669258773.6389332, 'state': 32, 'task_spec': 'Root', 'triggered': False, 'workflow_name': 'EmptyWorkflow', 'internal_data': {}, 'data': {}}, '0c37c440-35b8-49fc-b757-899d9c092d8f': {'id': '0c37c440-35b8-49fc-b757-899d9c092d8f', 'parent': 'adbbedb0-5775-4b2c-b7cc-b0647ee936cd', 'children': ['f65276ff-c651-44c7-9b72-cbcaa80c99e1'], 'last_state_change': 1669258773.6390407, 'state': 16, 'task_spec': 'Start', 'triggered': False, 'workflow_name': 'EmptyWorkflow', 'internal_data': {}, 'data': {}}, 'f65276ff-c651-44c7-9b72-cbcaa80c99e1': {'id': 'f65276ff-c651-44c7-9b72-cbcaa80c99e1', 'parent': '0c37c440-35b8-49fc-b757-899d9c092d8f', 'children': ['ecb5cb79-d45a-4877-bd65-6c06c2df080e'], 'last_state_change': 1669258773.6389627, 'state': 4, 'task_spec': 'StartEvent_1', 'triggered': False, 'workflow_name': 'EmptyWorkflow', 'internal_data': {}, 'data': {}}, 'ecb5cb79-d45a-4877-bd65-6c06c2df080e': {'id': 'ecb5cb79-d45a-4877-bd65-6c06c2df080e', 'parent': 'f65276ff-c651-44c7-9b72-cbcaa80c99e1', 'children': ['81c99c6c-33e9-4c79-aecd-ac0d8d0a1377'], 'last_state_change': 1669258773.6389785, 'state': 4, 'task_spec': 'EndEvent_0q4qzl9', 'triggered': False, 'workflow_name': 'EmptyWorkflow', 'internal_data': {}, 'data': {}}, '81c99c6c-33e9-4c79-aecd-ac0d8d0a1377': {'id': '81c99c6c-33e9-4c79-aecd-ac0d8d0a1377', 'parent': 'ecb5cb79-d45a-4877-bd65-6c06c2df080e', 'children': ['933b7a2b-bc0b-44ae-98ab-4efffe6bdf8c'], 'last_state_change': 1669258773.638992, 'state': 4, 'task_spec': 'EmptyWorkflow.EndJoin', 'triggered': False, 'workflow_name': 'EmptyWorkflow', 'internal_data': {}, 'data': {}}, '933b7a2b-bc0b-44ae-98ab-4efffe6bdf8c': {'id': '933b7a2b-bc0b-44ae-98ab-4efffe6bdf8c', 'parent': '81c99c6c-33e9-4c79-aecd-ac0d8d0a1377', 'children': [], 'last_state_change': 1669258773.6390047, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'EmptyWorkflow', 'internal_data': {}, 'data': {}}}, 'root': 'adbbedb0-5775-4b2c-b7cc-b0647ee936cd', 'spec': {'name': 'EmptyWorkflow', 'description': 'EmptyWorkflow', 'file': 'examples/empty/bpmn/empty.bpmn', 'task_specs': {'Start': {'id': 'EmptyWorkflow_1', 'name': 'Start', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': ['StartEvent_1'], 'typename': 'StartTask'}, 'EmptyWorkflow.EndJoin': {'id': 'EmptyWorkflow_2', 'name': 'EmptyWorkflow.EndJoin', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['EndEvent_0q4qzl9'], 'outputs': ['End'], 'typename': '_EndJoin'}, 'End': {'id': 'EmptyWorkflow_3', 'name': 'End', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['EmptyWorkflow.EndJoin'], 'outputs': [], 'typename': 'Simple'}, 'StartEvent_1': {'id': 'EmptyWorkflow_4', 'name': 'StartEvent_1', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Start'], 'outputs': ['EndEvent_0q4qzl9'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 179.0, 'y': 99.0}, 'outgoing_sequence_flows': {'EndEvent_0q4qzl9': {'id': 'SequenceFlow_0lvudp8', 'name': None, 'documentation': None, 'target_task_spec': 'EndEvent_0q4qzl9', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'SequenceFlow_0lvudp8': {'id': 'SequenceFlow_0lvudp8', 'name': None, 'documentation': None, 'target_task_spec': 'EndEvent_0q4qzl9', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'StartEvent', 'extensions': {}}, 'EndEvent_0q4qzl9': {'id': 'EmptyWorkflow_5', 'name': 'EndEvent_0q4qzl9', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['StartEvent_1'], 'outputs': ['EmptyWorkflow.EndJoin'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 432.0, 'y': 99.0}, 'outgoing_sequence_flows': {'EmptyWorkflow.EndJoin': {'id': 'EndEvent_0q4qzl9.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'EmptyWorkflow.EndJoin', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'EndEvent_0q4qzl9.ToEndJoin': {'id': 'EndEvent_0q4qzl9.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'EmptyWorkflow.EndJoin', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'EndEvent', 'extensions': {}}, 'Root': {'id': 'EmptyWorkflow_6', 'name': 'Root', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': [], 'typename': 'Simple'}}, 'data_inputs': [], 'data_outputs': [], 'data_objects': {}, 'correlation_keys': {}, 'typename': 'BpmnProcessSpec'}, 'subprocess_specs': {'EmptyWorkflow': {'name': 'EmptyWorkflow', 'description': 'EmptyWorkflow', 'file': 'examples/empty/bpmn/empty.bpmn', 'task_specs': {'Start': {'id': 'EmptyWorkflow_1', 'name': 'Start', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': ['StartEvent_1'], 'typename': 'StartTask'}, 'EmptyWorkflow.EndJoin': {'id': 'EmptyWorkflow_2', 'name': 'EmptyWorkflow.EndJoin', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['EndEvent_0q4qzl9'], 'outputs': ['End'], 'typename': '_EndJoin'}, 'End': {'id': 'EmptyWorkflow_3', 'name': 'End', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['EmptyWorkflow.EndJoin'], 'outputs': [], 'typename': 'Simple'}, 'StartEvent_1': {'id': 'EmptyWorkflow_4', 'name': 'StartEvent_1', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Start'], 'outputs': ['EndEvent_0q4qzl9'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 179.0, 'y': 99.0}, 'outgoing_sequence_flows': {'EndEvent_0q4qzl9': {'id': 'SequenceFlow_0lvudp8', 'name': None, 'documentation': None, 'target_task_spec': 'EndEvent_0q4qzl9', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'SequenceFlow_0lvudp8': {'id': 'SequenceFlow_0lvudp8', 'name': None, 'documentation': None, 'target_task_spec': 'EndEvent_0q4qzl9', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'StartEvent', 'extensions': {}}, 'EndEvent_0q4qzl9': {'id': 'EmptyWorkflow_5', 'name': 'EndEvent_0q4qzl9', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['StartEvent_1'], 'outputs': ['EmptyWorkflow.EndJoin'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 432.0, 'y': 99.0}, 'outgoing_sequence_flows': {'EmptyWorkflow.EndJoin': {'id': 'EndEvent_0q4qzl9.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'EmptyWorkflow.EndJoin', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'EndEvent_0q4qzl9.ToEndJoin': {'id': 'EndEvent_0q4qzl9.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'EmptyWorkflow.EndJoin', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'EndEvent', 'extensions': {}}, 'Root': {'id': 'EmptyWorkflow_6', 'name': 'Root', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': [], 'typename': 'Simple'}}, 'data_inputs': [], 'data_outputs': [], 'data_objects': {}, 'correlation_keys': {}, 'typename': 'BpmnProcessSpec'}}, 'subprocesses': {}, 'bpmn_messages': []}
