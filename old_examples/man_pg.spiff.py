
from SpiffWorkflow.bpmn.serializer.workflow import BpmnWorkflowSerializer
from SpiffWorkflow.bpmn.workflow import BpmnWorkflow
from SpiffWorkflow.spiff.parser.process import SpiffBpmnParser
from SpiffWorkflow.spiff.serializer.task_spec_converters import ManualTaskConverter
from SpiffWorkflow.spiff.serializer.task_spec_converters import ScriptTaskConverter
from SpiffWorkflow.task import TaskState


SERIALIZER_VERSION = "1.0-supreme-spoon"
wf_spec_converter = BpmnWorkflowSerializer.configure_workflow_spec_converter(
    [
        ManualTaskConverter,
        ScriptTaskConverter,
    ]
)
serializer = BpmnWorkflowSerializer(wf_spec_converter, version=SERIALIZER_VERSION)
serialized = {'data': {}, 'last_task': None, 'success': True, 'tasks': {'cbe5f05b-cae7-46da-a6e8-638dbb559299': {'id': 'cbe5f05b-cae7-46da-a6e8-638dbb559299', 'parent': None, 'children': ['208007fa-abb9-4ceb-8d87-708d618e32f5'], 'last_state_change': 1668730870.0571656, 'state': 32, 'task_spec': 'Root', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '208007fa-abb9-4ceb-8d87-708d618e32f5': {'id': '208007fa-abb9-4ceb-8d87-708d618e32f5', 'parent': 'cbe5f05b-cae7-46da-a6e8-638dbb559299', 'children': ['f2beaf30-36ce-438c-b423-23955cc7fa4e'], 'last_state_change': 1668730870.057466, 'state': 16, 'task_spec': 'Start', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'f2beaf30-36ce-438c-b423-23955cc7fa4e': {'id': 'f2beaf30-36ce-438c-b423-23955cc7fa4e', 'parent': '208007fa-abb9-4ceb-8d87-708d618e32f5', 'children': ['f84647dd-cbb8-45d4-a8be-685b9fd42bc3'], 'last_state_change': 1668730870.0571933, 'state': 4, 'task_spec': 'Event_056euq0', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'f84647dd-cbb8-45d4-a8be-685b9fd42bc3': {'id': 'f84647dd-cbb8-45d4-a8be-685b9fd42bc3', 'parent': 'f2beaf30-36ce-438c-b423-23955cc7fa4e', 'children': ['58b2fe48-290b-4303-97ce-4d46235ab03a'], 'last_state_change': 1668730870.0572095, 'state': 4, 'task_spec': 'Activity_0e2pojh', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '58b2fe48-290b-4303-97ce-4d46235ab03a': {'id': '58b2fe48-290b-4303-97ce-4d46235ab03a', 'parent': 'f84647dd-cbb8-45d4-a8be-685b9fd42bc3', 'children': ['36fed370-d5c7-4339-a9e3-53a7d9547da5', '4fc75538-a0ce-4c27-bbcb-385b36f5a1f1', '7fb70a57-67b8-4a69-baab-23dfea8ada09'], 'last_state_change': 1668730870.057223, 'state': 4, 'task_spec': 'Gateway_017jnp6', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '36fed370-d5c7-4339-a9e3-53a7d9547da5': {'id': '36fed370-d5c7-4339-a9e3-53a7d9547da5', 'parent': '58b2fe48-290b-4303-97ce-4d46235ab03a', 'children': ['361ee5b9-5cda-448b-b5d5-1e8711d6b62e'], 'last_state_change': 1668730870.0572357, 'state': 4, 'task_spec': 'Activity_1ewv0kb', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '361ee5b9-5cda-448b-b5d5-1e8711d6b62e': {'id': '361ee5b9-5cda-448b-b5d5-1e8711d6b62e', 'parent': '36fed370-d5c7-4339-a9e3-53a7d9547da5', 'children': ['81ae502b-a26a-4d33-a3d7-0b7899cddb7a'], 'last_state_change': 1668730870.057263, 'state': 4, 'task_spec': 'Gateway_0chrwmq', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '81ae502b-a26a-4d33-a3d7-0b7899cddb7a': {'id': '81ae502b-a26a-4d33-a3d7-0b7899cddb7a', 'parent': '361ee5b9-5cda-448b-b5d5-1e8711d6b62e', 'children': ['6485adf6-66b0-4149-920d-eb23f9702f3c'], 'last_state_change': 1668730870.0572727, 'state': 4, 'task_spec': 'Activity_0kapn49', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '6485adf6-66b0-4149-920d-eb23f9702f3c': {'id': '6485adf6-66b0-4149-920d-eb23f9702f3c', 'parent': '81ae502b-a26a-4d33-a3d7-0b7899cddb7a', 'children': ['0d6c399b-edef-4702-b2ad-e53c00750907'], 'last_state_change': 1668730870.0572834, 'state': 4, 'task_spec': 'Event_1kj6hcj', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '0d6c399b-edef-4702-b2ad-e53c00750907': {'id': '0d6c399b-edef-4702-b2ad-e53c00750907', 'parent': '6485adf6-66b0-4149-920d-eb23f9702f3c', 'children': ['a7b580d5-831f-4f94-a625-d4a84b1f531b'], 'last_state_change': 1668730870.0572934, 'state': 4, 'task_spec': 'Proccess_3qizfj5.EndJoin', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'a7b580d5-831f-4f94-a625-d4a84b1f531b': {'id': 'a7b580d5-831f-4f94-a625-d4a84b1f531b', 'parent': '0d6c399b-edef-4702-b2ad-e53c00750907', 'children': [], 'last_state_change': 1668730870.0573027, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '4fc75538-a0ce-4c27-bbcb-385b36f5a1f1': {'id': '4fc75538-a0ce-4c27-bbcb-385b36f5a1f1', 'parent': '58b2fe48-290b-4303-97ce-4d46235ab03a', 'children': ['d0becf4f-9686-4137-9cc7-f13e7ee1014b'], 'last_state_change': 1668730870.0572422, 'state': 4, 'task_spec': 'Activity_115woll', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'd0becf4f-9686-4137-9cc7-f13e7ee1014b': {'id': 'd0becf4f-9686-4137-9cc7-f13e7ee1014b', 'parent': '4fc75538-a0ce-4c27-bbcb-385b36f5a1f1', 'children': ['d90336fe-1cf2-4cff-b83a-bee8feb4728a'], 'last_state_change': 1668730870.0573142, 'state': 4, 'task_spec': 'Gateway_0chrwmq', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'd90336fe-1cf2-4cff-b83a-bee8feb4728a': {'id': 'd90336fe-1cf2-4cff-b83a-bee8feb4728a', 'parent': 'd0becf4f-9686-4137-9cc7-f13e7ee1014b', 'children': ['1f13176e-414d-4730-9899-f683abc8d343'], 'last_state_change': 1668730870.057322, 'state': 4, 'task_spec': 'Activity_0kapn49', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '1f13176e-414d-4730-9899-f683abc8d343': {'id': '1f13176e-414d-4730-9899-f683abc8d343', 'parent': 'd90336fe-1cf2-4cff-b83a-bee8feb4728a', 'children': ['da0bd611-a2ff-4aab-a047-83a126dcecb6'], 'last_state_change': 1668730870.0573294, 'state': 4, 'task_spec': 'Event_1kj6hcj', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'da0bd611-a2ff-4aab-a047-83a126dcecb6': {'id': 'da0bd611-a2ff-4aab-a047-83a126dcecb6', 'parent': '1f13176e-414d-4730-9899-f683abc8d343', 'children': ['29659286-9d75-427c-8bb1-bbbf8518824e'], 'last_state_change': 1668730870.0573373, 'state': 4, 'task_spec': 'Proccess_3qizfj5.EndJoin', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '29659286-9d75-427c-8bb1-bbbf8518824e': {'id': '29659286-9d75-427c-8bb1-bbbf8518824e', 'parent': 'da0bd611-a2ff-4aab-a047-83a126dcecb6', 'children': [], 'last_state_change': 1668730870.0573447, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '7fb70a57-67b8-4a69-baab-23dfea8ada09': {'id': '7fb70a57-67b8-4a69-baab-23dfea8ada09', 'parent': '58b2fe48-290b-4303-97ce-4d46235ab03a', 'children': ['eaec9e25-8050-48c9-aaec-602d0c1d1c51'], 'last_state_change': 1668730870.0572505, 'state': 4, 'task_spec': 'Activity_1g1cdox', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'eaec9e25-8050-48c9-aaec-602d0c1d1c51': {'id': 'eaec9e25-8050-48c9-aaec-602d0c1d1c51', 'parent': '7fb70a57-67b8-4a69-baab-23dfea8ada09', 'children': ['edfe948b-962d-4cc8-be4f-528fbbfdc5c7'], 'last_state_change': 1668730870.0573547, 'state': 4, 'task_spec': 'Gateway_0chrwmq', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'edfe948b-962d-4cc8-be4f-528fbbfdc5c7': {'id': 'edfe948b-962d-4cc8-be4f-528fbbfdc5c7', 'parent': 'eaec9e25-8050-48c9-aaec-602d0c1d1c51', 'children': ['75efa9d8-f5c5-4592-a605-976c46d194dc'], 'last_state_change': 1668730870.0573618, 'state': 4, 'task_spec': 'Activity_0kapn49', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '75efa9d8-f5c5-4592-a605-976c46d194dc': {'id': '75efa9d8-f5c5-4592-a605-976c46d194dc', 'parent': 'edfe948b-962d-4cc8-be4f-528fbbfdc5c7', 'children': ['6a6e6902-ff6d-4934-8cd9-fd474cad6da1'], 'last_state_change': 1668730870.0573711, 'state': 4, 'task_spec': 'Event_1kj6hcj', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, '6a6e6902-ff6d-4934-8cd9-fd474cad6da1': {'id': '6a6e6902-ff6d-4934-8cd9-fd474cad6da1', 'parent': '75efa9d8-f5c5-4592-a605-976c46d194dc', 'children': ['ef8c0a67-099e-4c08-94d2-81c6141aa98e'], 'last_state_change': 1668730870.0573785, 'state': 4, 'task_spec': 'Proccess_3qizfj5.EndJoin', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}, 'ef8c0a67-099e-4c08-94d2-81c6141aa98e': {'id': 'ef8c0a67-099e-4c08-94d2-81c6141aa98e', 'parent': '6a6e6902-ff6d-4934-8cd9-fd474cad6da1', 'children': [], 'last_state_change': 1668730870.0573862, 'state': 4, 'task_spec': 'End', 'triggered': False, 'workflow_name': 'Proccess_3qizfj5', 'internal_data': {}, 'data': {}}}, 'root': 'cbe5f05b-cae7-46da-a6e8-638dbb559299', 'spec': {'name': 'Proccess_3qizfj5', 'description': 'Proccess_3qizfj5', 'file': 'examples/man_pg.bpmn', 'task_specs': {'Start': {'id': 'Proccess_3qizfj5_1', 'name': 'Start', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': ['Event_056euq0'], 'typename': 'StartTask'}, 'Proccess_3qizfj5.EndJoin': {'id': 'Proccess_3qizfj5_2', 'name': 'Proccess_3qizfj5.EndJoin', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_1kj6hcj'], 'outputs': ['End'], 'typename': '_EndJoin'}, 'End': {'id': 'Proccess_3qizfj5_3', 'name': 'End', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Proccess_3qizfj5.EndJoin'], 'outputs': [], 'typename': 'Simple'}, 'Event_056euq0': {'id': 'Proccess_3qizfj5_4', 'name': 'Event_056euq0', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Start'], 'outputs': ['Activity_0e2pojh'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 22.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Activity_0e2pojh': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0e2pojh', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1cl1p98': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0e2pojh', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'StartEvent', 'extensions': {}}, 'Activity_0e2pojh': {'id': 'Proccess_3qizfj5_5', 'name': 'Activity_0e2pojh', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_056euq0'], 'outputs': ['Gateway_017jnp6'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 80.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Gateway_017jnp6': {'id': 'Flow_06e9ehh', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_06e9ehh': {'id': 'Flow_06e9ehh', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'typename': 'ManualTask', 'extensions': {'instructionsForEndUser': 'Press any key to continue the demo....'}}, 'Gateway_017jnp6': {'id': 'Proccess_3qizfj5_6', 'name': 'Gateway_017jnp6', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_0e2pojh'], 'outputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 205.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_1ewv0kb': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Activity_115woll': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Activity_1g1cdox': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1pitxjc': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Flow_0h2b3iu': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Flow_02o1fhb': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_1ewv0kb': {'id': 'Proccess_3qizfj5_7', 'name': 'Activity_1ewv0kb', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 30.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0iqfly5': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=4', 'typename': 'ScriptTask', 'extensions': {}}, 'Gateway_0chrwmq': {'id': 'Proccess_3qizfj5_8', 'name': 'Gateway_0chrwmq', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'outputs': ['Activity_0kapn49'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 445.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_0kapn49': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_19o9wjn': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_0kapn49': {'id': 'Proccess_3qizfj5_9', 'name': 'Activity_0kapn49', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_0chrwmq'], 'outputs': ['Event_1kj6hcj'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 590.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Event_1kj6hcj': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0xt37g5': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'result = var1 + 77', 'typename': 'ScriptTask', 'extensions': {}}, 'Event_1kj6hcj': {'id': 'Proccess_3qizfj5_10', 'name': 'Event_1kj6hcj', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_0kapn49'], 'outputs': ['Proccess_3qizfj5.EndJoin'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 792.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Proccess_3qizfj5.EndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Event_1kj6hcj.ToEndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'EndEvent', 'extensions': {}}, 'Activity_115woll': {'id': 'Proccess_3qizfj5_11', 'name': 'Activity_115woll', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1iiolp4': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=6', 'typename': 'ScriptTask', 'extensions': {}}, 'Activity_1g1cdox': {'id': 'Proccess_3qizfj5_12', 'name': 'Activity_1g1cdox', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 250.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_110tzrd': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=7', 'typename': 'ScriptTask', 'extensions': {}}, 'Root': {'id': 'Proccess_3qizfj5_13', 'name': 'Root', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': [], 'typename': 'Simple'}}, 'data_inputs': [], 'data_outputs': [], 'data_objects': {}, 'correlation_keys': {}, 'typename': 'BpmnProcessSpec'}, 'subprocess_specs': {'Proccess_3qizfj5': {'name': 'Proccess_3qizfj5', 'description': 'Proccess_3qizfj5', 'file': 'examples/man_pg.bpmn', 'task_specs': {'Start': {'id': 'Proccess_3qizfj5_1', 'name': 'Start', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': ['Event_056euq0'], 'typename': 'StartTask'}, 'Proccess_3qizfj5.EndJoin': {'id': 'Proccess_3qizfj5_2', 'name': 'Proccess_3qizfj5.EndJoin', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_1kj6hcj'], 'outputs': ['End'], 'typename': '_EndJoin'}, 'End': {'id': 'Proccess_3qizfj5_3', 'name': 'End', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Proccess_3qizfj5.EndJoin'], 'outputs': [], 'typename': 'Simple'}, 'Event_056euq0': {'id': 'Proccess_3qizfj5_4', 'name': 'Event_056euq0', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Start'], 'outputs': ['Activity_0e2pojh'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 22.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Activity_0e2pojh': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0e2pojh', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1cl1p98': {'id': 'Flow_1cl1p98', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0e2pojh', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'StartEvent', 'extensions': {}}, 'Activity_0e2pojh': {'id': 'Proccess_3qizfj5_5', 'name': 'Activity_0e2pojh', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Event_056euq0'], 'outputs': ['Gateway_017jnp6'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 80.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Gateway_017jnp6': {'id': 'Flow_06e9ehh', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_06e9ehh': {'id': 'Flow_06e9ehh', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_017jnp6', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'typename': 'ManualTask', 'extensions': {'instructionsForEndUser': 'Press any key to continue the demo....'}}, 'Gateway_017jnp6': {'id': 'Proccess_3qizfj5_6', 'name': 'Gateway_017jnp6', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_0e2pojh'], 'outputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 205.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_1ewv0kb': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Activity_115woll': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Activity_1g1cdox': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1pitxjc': {'id': 'Flow_1pitxjc', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1ewv0kb', 'typename': 'SequenceFlow'}, 'Flow_0h2b3iu': {'id': 'Flow_0h2b3iu', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_115woll', 'typename': 'SequenceFlow'}, 'Flow_02o1fhb': {'id': 'Flow_02o1fhb', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_1g1cdox', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_1ewv0kb': {'id': 'Proccess_3qizfj5_7', 'name': 'Activity_1ewv0kb', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 30.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0iqfly5': {'id': 'Flow_0iqfly5', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=4', 'typename': 'ScriptTask', 'extensions': {}}, 'Gateway_0chrwmq': {'id': 'Proccess_3qizfj5_8', 'name': 'Gateway_0chrwmq', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_1ewv0kb', 'Activity_115woll', 'Activity_1g1cdox'], 'outputs': ['Activity_0kapn49'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 445.0, 'y': 155.0}, 'outgoing_sequence_flows': {'Activity_0kapn49': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_19o9wjn': {'id': 'Flow_19o9wjn', 'name': None, 'documentation': None, 'target_task_spec': 'Activity_0kapn49', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'split_task': None, 'threshold': None, 'cancel': False, 'typename': 'ParallelGateway', 'extensions': {}}, 'Activity_0kapn49': {'id': 'Proccess_3qizfj5_9', 'name': 'Activity_0kapn49', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_0chrwmq'], 'outputs': ['Event_1kj6hcj'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 590.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Event_1kj6hcj': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_0xt37g5': {'id': 'Flow_0xt37g5', 'name': None, 'documentation': None, 'target_task_spec': 'Event_1kj6hcj', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'result = var1 + 77', 'typename': 'ScriptTask', 'extensions': {}}, 'Event_1kj6hcj': {'id': 'Proccess_3qizfj5_10', 'name': 'Event_1kj6hcj', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Activity_0kapn49'], 'outputs': ['Proccess_3qizfj5.EndJoin'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 792.0, 'y': 162.0}, 'outgoing_sequence_flows': {'Proccess_3qizfj5.EndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Event_1kj6hcj.ToEndJoin': {'id': 'Event_1kj6hcj.ToEndJoin', 'name': None, 'documentation': None, 'target_task_spec': 'Proccess_3qizfj5.EndJoin', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'event_definition': {'internal': False, 'external': False, 'typename': 'NoneEventDefinition'}, 'typename': 'EndEvent', 'extensions': {}}, 'Activity_115woll': {'id': 'Proccess_3qizfj5_11', 'name': 'Activity_115woll', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 140.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_1iiolp4': {'id': 'Flow_1iiolp4', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=6', 'typename': 'ScriptTask', 'extensions': {}}, 'Activity_1g1cdox': {'id': 'Proccess_3qizfj5_12', 'name': 'Activity_1g1cdox', 'description': None, 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': ['Gateway_017jnp6'], 'outputs': ['Gateway_0chrwmq'], 'lane': None, 'documentation': None, 'loopTask': False, 'position': {'x': 300.0, 'y': 250.0}, 'outgoing_sequence_flows': {'Gateway_0chrwmq': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'outgoing_sequence_flows_by_id': {'Flow_110tzrd': {'id': 'Flow_110tzrd', 'name': None, 'documentation': None, 'target_task_spec': 'Gateway_0chrwmq', 'typename': 'SequenceFlow'}}, 'data_input_associations': [], 'data_output_associations': [], 'prescript': None, 'postscript': None, 'script': 'var1=7', 'typename': 'ScriptTask', 'extensions': {}}, 'Root': {'id': 'Proccess_3qizfj5_13', 'name': 'Root', 'description': '', 'manual': False, 'internal': False, 'lookahead': 2, 'inputs': [], 'outputs': [], 'typename': 'Simple'}}, 'data_inputs': [], 'data_outputs': [], 'data_objects': {}, 'correlation_keys': {}, 'typename': 'BpmnProcessSpec'}}, 'subprocesses': {}, 'bpmn_messages': []}

wf = serializer.workflow_from_dict(serialized)
wf.do_engine_steps()

while not wf.is_completed():
    ready_tasks = wf.get_ready_user_tasks()
    for task in ready_tasks:
        task.complete()
    wf.refresh_waiting_tasks()
    wf.do_engine_steps()

print(wf.data)
